      <%@ taglib uri="http://java.sun.com/portlet_2_0" prefix="portlet"%>      <%@ taglib uri="http://liferay.com/tld/aui" prefix="aui"%>      <%@ taglib uri="http://liferay.com/tld/ui" prefix="liferay-ui"%>      <%@ page import="com.liferay.portal.kernel.util.ParamUtil"%>      <%@ page import="com.liferay.portal.kernel.util.Validator"%>      <%@ page import="com.liferay.portlet.PortletPreferencesFactoryUtil" %>      <%@ page import="javax.portlet.PortletPreferences"%>      <%@ page import="com.liferay.util.PwdGenerator"%>      <%@ page import="com.liferay.portal.service.PortletPreferencesLocalServiceUtil" %>      <%@ page import="com.liferay.portal.kernel.util.WebKeys" %>      <%@ page import="com.liferay.portal.kernel.portlet.LiferayWindowState"%>                        <portlet:actionURL var="sampleCCDATree" windowState="<%= LiferayWindowState.EXCLUSIVE.toString() %>">    	<portlet:param name="javax.portlet.action" value="sampleCCDATree"/>      </portlet:actionURL>                  <portlet:actionURL var="urlAction1" windowState="<%= LiferayWindowState.EXCLUSIVE.toString() %>">    	<portlet:param name="javax.portlet.action" value="uploadCCDA1"/>	  </portlet:actionURL>	  	  	  <portlet:actionURL var="urlAction2" windowState="<%= LiferayWindowState.EXCLUSIVE.toString() %>">    	<portlet:param name="javax.portlet.action" value="uploadCCDA2"/>	  </portlet:actionURL>	  	  	  <portlet:actionURL var="smartCCDAAction" windowState="<%= LiferayWindowState.EXCLUSIVE.toString() %>">    	<portlet:param name="javax.portlet.action" value="smartCCDA"/>	  </portlet:actionURL>      	  	  <portlet:resourceURL id="saveAsPDF"  var="downloadCCDAAction">	  </portlet:resourceURL>    	      <portlet:resourceURL id="downloadIncorporation"  var="downloadIncorporationAction">      </portlet:resourceURL>            <portlet:defineObjects />                      <portlet:actionURL var="editCaseURL" name="uploadFile">          <portlet:param name="jspPage" value="/Upload.jsp" />      </portlet:actionURL>            <liferay-ui:success key="success" message="CCD upload completed!" />            <liferay-ui:error key="error" message="CCD contains error(s)." />                  <script type="text/javascript">		      	window.currentContextPath = "<%=request.getContextPath()%>";    	var sampleCCDATreeURL = '${sampleCCDATree}';      </script>            <div class="panel panel-default">      <div class="panel-heading"><h3 class="panel-title">C-CDA Validator</h3></div>  		<div class="panel-body">  		<h4>Directions</h4>      		<p>To perform C-CDA validation, please select a C-CDA document type from the list below, select the C-CDA document from your file system, and click the "Validate Document" button to perform the document validation.  <br/><br/>Please note: validation may take up to one minute to run.</p>      		      		      		<ul class="nav nav-tabs" id="validationTabs">      			<li id="tabCCDA11" class="nav active" ><a href="#CCDA11" data-toggle="tab">Validate Against C-CDA R1.1</a></li>      			<li id="tabCCDA2" class="nav" ><a href="#CCDA2" data-toggle="tab">Validate Against C-CDA R2.0</a></li>			</ul>  		  		<div id="CCDAvalidator" class="well">  		  			<div class="tab-content">  			  				<div class="tab-pane active" id="CCDA11">  				  					<div id="CCDA1wrapper">      					       	<form id="CCDA1ValidationForm" action="${urlAction1}" method="POST" relay="<%= smartCCDAAction %>" enctype="multipart/form-data">				      						      		<div id="ccda_type_radioboxgroup" class="btn-group-vertical">				      			<label for="CCDA1_type_val">Select a C-CDA Document Type:</label><br/>				      			<select id="CCDA1_type_val" name="CCDA1_type_val" class="form-control" tabindex="1">				      				<option value="ClinicalOfficeVisitSummary">Clinical Office Visit Summary - MU2 170.314(e)(2) - Clinical Summary</option>				      				<option value="TransitionsOfCareAmbulatorySummary">Transitions Of Care Ambulatory Summary - MU2 170.314(b)(2) Transition of Care/Referral Summary - For Ambulatory Care</option>				      				<option value="TransitionsOfCareAmbulatorySummary">Transitions Of Care Ambulatory Summary - MU2 170.314(b)(7) Data Portability - For Ambulatory Care</option>				      				<option value="TransitionsOfCareAmbulatorySummary">Transitions Of Care Ambulatory Summary - MU2 170.314(b)(1) Transition of Care Receive - For Ambulatory Care</option>				      				<option value="TransitionsOfCareInpatientSummary">Transitions Of Care Inpatient Summary - MU2 170.314(b)(2) Transition of Care/Referral Summary - For Inpatient Care</option>				      				<option value="TransitionsOfCareInpatientSummary">Transitions Of Care Inpatient Summary - MU2 170.314(b)(7) Data Portability - For Inpatient Care</option>				      				<option value="TransitionsOfCareInpatientSummary">Transitions Of Care Inpatient Summary - MU2 170.314(b)(1) Transition of Care Receive - For Inpatient Care</option>				      				<option value="VDTAmbulatorySummary">VDT Ambulatory Summary - MU2 170.314 (e)(1) Ambulatory Summary</option>				      				<option value="VDTInpatientSummary">VDT Inpatient Summary - MU2 170.314 (e)(1) Inpatient Summary</option>				      				<option value="NonSpecificCCDA">Non-specific CCDA</option>				      			</select>				      										  								</div>							<br/><br/>							<noscript><input type="hidden" name="redirect" value="true" /></noscript>							<div id="ccdauploaderrorlock" style="position: relative;">								<div class="row">									<div class="col-md-12">										<label for="CCDA1fileupload">Select a Local C-CDA File to Validate:</label><br/>										<span class="btn btn-success fileinput-button" id="CCDA1fileupload-btn"> <i												class="glyphicon glyphicon-plus"></i>&nbsp;<span>Select a C-CDA File...</span>												<input id="CCDA1fileupload" type="file" name="file"  class="validate[required, custom[xmlfileextension[xml|XML]], custom[maxCCDAFileSize]]"  tabindex="1"/>										</span>										<div id="CCDA1files"></div>																			</div>																										</div>																									</div>							<hr/>							<button id="CCDA1formSubmit" type="submit" class="btn btn-primary start" onclick="return false;"  tabindex="1">											<i class="glyphicon glyphicon-ok"></i> <span>Validate Document</span>										</button>																		      	</form>			      	</div>			      			      	</div>		      			      			      	<div class="tab-pane" id="CCDA2">  				  					<div id="CCDA2wrapper">      					       	<form id="CCDA2ValidationForm" action="${urlAction2}" method="POST" relay="<%= smartCCDAAction %>" enctype="multipart/form-data">				      						      		<div id="CCDA2_type_radioboxgroup" class="btn-group-vertical">				      			<label for="CCDA2_type_val">Select a C-CDA Document Type:</label><br/>				      			<select id="CCDA2_type_val" name="CCDA2_type_val" class="form-control" tabindex="1">				      				<option value="ClinicalOfficeVisitSummary">Clinical Office Visit Summary - MU2 170.314(e)(2) - Clinical Summary</option>				      				<option value="TransitionsOfCareAmbulatorySummary">Transitions Of Care Ambulatory Summary - MU2 170.314(b)(2) Transition of Care/Referral Summary - For Ambulatory Care</option>				      				<option value="TransitionsOfCareAmbulatorySummary">Transitions Of Care Ambulatory Summary - MU2 170.314(b)(7) Data Portability - For Ambulatory Care</option>				      				<option value="TransitionsOfCareAmbulatorySummary">Transitions Of Care Ambulatory Summary - MU2 170.314(b)(1) Transition of Care Receive - For Ambulatory Care</option>				      				<option value="TransitionsOfCareInpatientSummary">Transitions Of Care Inpatient Summary - MU2 170.314(b)(2) Transition of Care/Referral Summary - For Inpatient Care</option>				      				<option value="TransitionsOfCareInpatientSummary">Transitions Of Care Inpatient Summary - MU2 170.314(b)(7) Data Portability - For Inpatient Care</option>				      				<option value="TransitionsOfCareInpatientSummary">Transitions Of Care Inpatient Summary - MU2 170.314(b)(1) Transition of Care Receive - For Inpatient Care</option>				      				<option value="VDTAmbulatorySummary">VDT Ambulatory Summary - MU2 170.314 (e)(1) Ambulatory Summary</option>				      				<option value="VDTInpatientSummary">VDT Inpatient Summary - MU2 170.314 (e)(1) Inpatient Summary</option>				      				<option value="NonSpecificCCDA">Non-specific CCDA</option>				      			</select>				      										  								</div>							<br/><br/>							<noscript><input type="hidden" name="redirect" value="true" /></noscript>							<div id="CCDA2uploaderrorlock" style="position: relative;">								<div class="row">									<div class="col-md-12">										<label for="CCDA2fileupload">Select a Local C-CDA File to Validate:</label><br/>										<span class="btn btn-success fileinput-button" id="CCDA2fileupload-btn"> <i												class="glyphicon glyphicon-plus"></i>&nbsp;<span>Select a C-CDA File...</span>												<input id="CCDA2fileupload" type="file" name="file"  class="validate[required, custom[xmlfileextension[xml|XML]], custom[maxCCDAFileSize]]"  tabindex="1"/>										</span>										<div id="CCDA2files"></div>																			</div>																										</div>																									</div>							<hr/>							<button id="CCDA2formSubmit" type="submit" class="btn btn-primary start" onclick="return false;"  tabindex="1">											<i class="glyphicon glyphicon-ok"></i> <span>Validate C-CDA 2.0 Document</span>							</button>											      	</form>			      	</div>			      			      	</div>		      	      		</div>      	</div>      </div>    </div>        <div class="panel panel-default">    	<div class="panel-heading"><h3 class="panel-title">Download C-CDAs for Incorporation</h3></div>  			<div class="panel-body">  			<h4>Directions:</h4>      		<p>Please download C-CDAs below</p>      		  			  			<div class="panel-group" id="IncorporationAccordion">			  <div class="panel panel-default">			    <div class="panel-heading">			      <h4 class="panel-title">			        <a data-toggle="collapse" data-parent="#IncorporationAccordion" href="#collapseOne">			          CCDAs for Negative Testing 			        </a>			      </h4>			    </div>			    <div id="collapseOne" class="panel-collapse collapse">			      <div class="panel-body">			      			      	<a href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2">Get All C-CDAs (Download as .zip)</a>			      	<br/>			      	<br>			        <div class="list-group download-list" style="width:75%">			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Expired vocabulary testing</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Code not in value set</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Poorly formed, non-valid CDA</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Provided templateIds not included in the base document</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Does not include required templateIds</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Section with missing narrative</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Section with invalid Code System</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Entry that included invalid data types</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Document does not include core MU data elements</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Incorrect coding of Medication data</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Incorrect coding of Problems data</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Incorrect coding of Allergies data</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Incorrect coding of Lab Results data</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Incorrect coding of Procedures data</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Incorrect coding of Vital Signs data</a>			      		<a class="list-group-item" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">Incorrect coding of Immunization data</a>			    	</div>			      </div>			    </div>			  </div>			  <div class="panel panel-default">			    <div class="panel-heading">			      <h4 class="panel-title">			        <a data-toggle="collapse" data-parent="#IncorporationAccordion" href="#collapseTwo">			          Reference C-CDAs for Incorporation			        </a>			      </h4>			    </div>			    <div id="collapseTwo" class="panel-collapse collapse">			      <div class="panel-body">			        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.			      </div>			    </div>			  </div>			  <div class="panel panel-default">			    <div class="panel-heading">			      <h4 class="panel-title">			        <a data-toggle="collapse" data-parent="#IncorporationAccordion" href="#collapseThree">			          Samples from Vendors for Incorporation			        </a>			      </h4>			    </div>			    <div id="collapseThree" class="panel-collapse collapse">			      <div class="panel-body">			        					<div class="tab-pane active" id="incorp">  						<div id="incorpFormWrapper">							<!--<form id="incorpForm"  action="${precannedCCDADirectReceive}" method="POST">-->							<form id="incorpForm" action="${downloadIncorporationAction}" method="POST">														<p>							<noscript><input type="hidden" name="redirect" value="true"  /></noscript>							<div id="incorperrorlock" style="position: relative;">								<div class="row">								<div class="col-md-12">								<label for="dLabel">Select a sample C-CDA File to Download:</label><br/>												<div class="dropdown">													<button id="dLabel" data-toggle="dropdown"														class="btn btn-success dropdown-toggle validate[funcCall[incorpRequired]]" type="button" tabindex="1">														Pick Sample <i class="glyphicon glyphicon-play"></i>													</button>																<ul class="dropdown-menu rightMenu" role="menu" aria-labelledby="dLabel">														<li>															<div id="ccdafiletreepanel"></div>														</li>													</ul>												</div>												<div><span id="incorpfilePathOutput"></span></div>								</div>								</div>							</div>							<hr />							<button id="incorpCCDAsubmit" type="submit"								class="btn btn-primary start" onclick="return false;"  tabindex="1">								<i class="glyphicon glyphicon-download"></i> <span>Download File</span>							</button>							<input id="incorpfilepath"									name="incorpfilepath" type="hidden">							</form>						</div>  					</div>  								      </div>			    </div>			  </div>			</div> 			  						    			</div>	</div>			         <!--<div class="panel panel-default">    	<div class="panel-heading"><h3 class="panel-title">Downloads</h3></div>    		<div class="panel-body">    			<div class="col-sm-12 btn-group-vertical" style="width:100%">      				<a class="btn btn-default" href="http://www.hl7.org/documentcenter/private/standards/cda/CDAR2_IG_IHE_CONSOL_DSTU_R1dot1_2012JUL.zip" style="width: 100%;" target="_blank" tabindex="1">Download the latest HL7 C-CDA IG</a>      				<a class="btn btn-default" href="http://wiki.siframework.org/Companion+Guide+to+Consolidated+CDA+for+MU2" style="width: 100%;" target="_blank" tabindex="1">S&amp;I Framework C-CDA Companion Guide for MU2</a>      				<a class="btn btn-default" href="http://ttt.transport-testing.org/ttt" style="width: 100%;" target="_blank" tabindex="1">NIST C-CDA Validator</a>      				<a class="btn btn-default" href="http://ccda-scorecard.smartplatforms.org/static/ccdaScorecard/#/" style="width: 100%; margin-bottom: 3px;" target="_blank" tabindex="1">SMART C-CDA Scorecard</a>      			</div>    		</div>    </div>    -->	<script type="text/javascript">		var url = '${urlAction}';	</script>      	      	      	<div class="modal modal-wide fade" id="resultModal" tabindex="-1" role="dialog" aria-labelledby="resultModalLabel" aria-hidden="true">	      	<div class="modal-dialog">			<div class="modal-content">				<div class="modal-header">					<button type="button" class="close" data-dismiss="modal"						aria-hidden="true">&times;</button>					<ul class="nav nav-tabs" id="resultModalTabs">					  <li><a href="#tabs-1" data-toggle="tab">Validation Result</a></li>					  <li><a href="#tabs-2" data-toggle="tab">Original C-CDA</a></li>					  <li><a href="#tabs-3" data-toggle="tab">Smart C-CDA Result</a></li>					</ul>				</div>				<div class="modal-body">					<div id="ValidationResult">						<div class="tab-content" id="resultTabContent">							<div class="tab-pane" id="tabs-1">								<h2>Content heading 1</h2>							</div>							<div class="tab-pane" id="tabs-2">								<h2>Place holder</h2>								<p>Under construction.</p>							</div>							<div class="tab-pane" id="tabs-3"></div>						</div>					</div>				</div>				<div class="modal-footer">					<button type="button" class="btn btn-primary" id="smartCCDAValidationBtn">Smart C-CDA Validation</button>					<button type="button" class="btn btn-primary" id="saveResultsBtn">Save Results</button>			        <button type="button" class="btn btn-default" data-dismiss="modal">Close Results</button>				</div>			</div>			</div>			</div>			<div id="reportSaveAsQuestion" style="display: none; cursor: default">								<form id="downloadtest" action="<%= downloadCCDAAction %>"					method="POST">										<label for="reportContent">Hidden field to store the report content for print or save.</label>					<textarea id="reportContent" name="reportContent"						style="display: none;">      				</textarea>					<br>									</form>			</div>			<portlet:renderURL var="viewCaseURL">				<portlet:param name="jspPage" value="/view2.jsp" />			</portlet:renderURL>